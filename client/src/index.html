<!Doctype html>
<html>
  <head>
    <title>More-Recipes</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.100.2/css/materialize.min.css">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans|Montserrat">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/css/toastr.min.css"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <meta name="google-signin-client_id" content="827684783940-iisct8ub0eifot2ebb4fod5f3nrnk7ij.apps.googleusercontent.com">
  </head>
  <body>
      <div id="fb-root"></div>
    <div id='app'></div>
    <!-- <fb:login-button scope="public_profile,email" onlogin="checkLoginState();">
	</fb:login-button> -->
	<img id="test" />
    <script src="/bundle.js"></script>
    <script type="text/javascript" src="https://code.jquery.com/jquery-3.2.1.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.100.2/js/materialize.min.js"></script>
    <script src="https://apis.google.com/js/platform.js?onload=renderButton" async defer></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/js/toastr.min.js"></script>
    <script>
      $(document).ready(function(){

	//Materialize components initialization
	$(".button-collapse").sideNav();
	$('.parallax').parallax();
	$(".dropdown-button").dropdown();
	$('#desc-textarea').trigger('autoresize');
	$('.modal').modal();

	//Transform catalog navbar on scroll
	$(window).scroll(function(){
		if($(window).scrollTop() > 0){
			$('#search-nav').removeClass('hide');
			$('#nav').addClass('grey darken-2');
			$('#nav').removeClass('transparent z-depth-0');
		}else{
			$('#search-nav').addClass('hide');
			$('#nav').removeClass('grey darken-2');
			$('#nav').addClass('transparent z-depth-0');
		}

	});

	//Enable editing on profile when edit button is clicked
	$('#edit-button').click(function(){
		$('#profile-name').prop('disabled', false);
		$('#profile-email').prop('disabled', false);
		$('#desc-textarea').prop('disabled', false);
		$('#save').removeClass('hide');
		$('#edit-photo').removeClass('hide');
	});

	//Disable editing on profile when save button is clicked
	$('#save').click(function(){
		$('#profile-name').prop('disabled', true);
		$('#profile-email').prop('disabled', true);
		$('#desc-textarea').prop('disabled', true);
		$('#save').addClass('hide');
		$('#edit-photo').addClass('hide');
	})

	$('.upvotes').click(function(){
		if($(this).next().attr('class') === 'downvotes black-text'){
			$(this).next().removeClass('black-text');
		}
		if($(this).attr('class') === 'upvotes'){
			$(this).addClass('green-text');
		}else{
			$(this).removeClass('green-text');
		}
	});

	$('.downvotes').click(function(){
		if($(this).prev().attr('class') === 'upvotes green-text'){
			$(this).prev().removeClass('green-text');
		}
		if($(this).attr('class') === 'downvotes'){
			$(this).addClass('black-text');
		}else{
			$(this).removeClass('black-text');
		}
	});

	$('.favourite').click(function(){
		if($(this).attr('class') === 'favourite'){
			$(this).addClass('red-text');
		}else{
			$(this).removeClass('red-text');
		}
	});

	$('#details-thumb-up').click(function(){
		if($('#details-thumb-down').attr('class') === 'thumb-down black-text'){
			$('#details-thumb-down').removeClass('black-text');
			$('#downvotes').text('0');
		}
		if($(this).attr('class') === 'thumb-up'){
			$(this).addClass('green-text');
			$(this).next().text('1');
		}else{
			$(this).removeClass('green-text');
			$(this).next().text('0');
		}
	});

	$('#details-thumb-down').click(function(){
		if($('#details-thumb-up').attr('class') === 'thumb-up green-text'){
			$('#details-thumb-up').removeClass('green-text');
			$('#upvotes').text('0');
		}
		if($(this).attr('class') === 'thumb-down'){
			$(this).addClass('black-text');
			$(this).next().text('1');
		}else{
			$(this).removeClass('black-text');
			$(this).next().text('0');
		}
	});

	$('#details-favourite').click(function(){
		if($(this).attr('class') === 'details-favourite'){
			$(this).addClass('red-text');
			$(this).next().text('1');
		}else{
			$(this).removeClass('red-text');
			$(this).next().text('0');
		}
	});

});

// function loadImage() {
//   const canvas = document.getElementById('imageURL');
//   const context = canvas.getContext('2d');

//   const file = this.files[0];
//   const fileReader = new FileReader();
//   fileReader.onload = function (e) {
//     const img = new Image(300, 200);
//     img.addEventListener('load', () => {
//       context.drawImage(img, 0, 0, 300, 200);
//     });
// 	img.src = e.target.result;
//   };
//   fileReader.readAsDataURL(file);
//   console.log(canvas.toDataURL());
//   const c =document.getElementById("test");
//   c.src = canvas.toDataURL();
// }

//   document.getElementById('fileUpload').addEventListener('change', loadImage, false);

    </script>
  </body>
</html>